#:import Decimal decimal.Decimal



Popup:
    id: popup
    is_invoice: True
    amount: 0
    requestor: ''
    exp: ''
    description: ''
    status: ''
    signature: ''
    title: _('Invoice') if popup.is_invoice else _('Request')
    BoxLayout:
        orientation: 'vertical'
        padding: '10dp'
        ScrollView:
            GridLayout:
                cols: 1
                height: self.minimum_height
                size_hint_y: None
                GridLayout:
                    cols: 2
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: '10dp'
                    padding: '10dp'
                    TopLabel:
                        text: _('Requestor') if popup.is_invoice else _('Address')
                    TopLabel:
                        text: root.requestor
                    TopLabel:
                        text: _('Amount') if root.amount else ''
                    TopLabel:
                        text: app.format_amount_and_units(root.amount) if root.amount else ''
                    TopLabel:
                        text: _('Signature') if root.signature else ''
                    TopLabel:
                        text: root.signature
                    TopLabel:
                        text: _('Expiration') if root.exp else ''
                    TopLabel:
                        text: root.exp
                    TopLabel:
                        text: _('Description') if root.description else ''
                    TopLabel:
                        text: root.description
                    TopLabel:
                        text: (_('Status') if popup.amount or popup.is_invoice else _('Amount received')) if root.status else ''
                    TopLabel:
                        text: root.status

                TopLabel:
                    text: _('Outputs') if popup.is_invoice else ''
                OutputList:
                    id: output_list
                TopLabel:
                    id: txid_label

        Widget:
            size_hint: 1, 0.1

        BoxLayout:
            size_hint: 1, None
            height: '48dp'
            Widget:
                size_hint: 0.5, None
                height: '48dp'
            Button:
                size_hint: 0.5, None
                height: '48dp'
                text: _('Close')
                on_release: popup.dismiss()
