#:import os os

Popup:
    title: _('Wallets')
    id: popup
    BoxLayout:
        orientation: 'vertical'
        Label:
            id: text_input
            height: '32dp'
            size_hint_y: None
            text: os.path.basename(app.wallet.storage.path)
        Widget
            size_hint_y: None

        FileChooserListView:
            id: wallet_selector
            path: os.path.dirname(app.wallet.storage.path)
            on_selection:
                text_input.text = os.path.basename(self.selection[0]) if self.selection else ''
            size_hint: 1, 1

        GridLayout:
            cols: 3
            size_hint_y: None
            Button:
                size_hint: 0.5, None
                height: '48dp'
                text: _('Create')
                on_release:
                    popup.dismiss()
                    app.create_wallet_dialog()
            Button:
                size_hint: 0.5, None
                height: '48dp'
                text: _('Open')
                on_release:
                    popup.dismiss()
                    app.open_wallet(text_input.text)
            Button:
                size_hint: 0.5, None
                height: '48dp'
                text: _('Cancel')
                on_release:
                    popup.dismiss()
